<div mat-dialog-title>
  {{ data.job.title || "Add New Job" }}
</div>
<div mat-dialog-content>
  <form class="job-form" [formGroup]="jobForm" (ngSubmit)="saveJob()">
    <fieldset [disabled]="data.loading$ | async" style="border: none">
      <!-- JOB TITLE -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Job Title</mat-label>
        <input
          matInput
          placeholder="Enter job title"
          formControlName="title"
          required
          type="text"
          id="title"
        />
        <mat-icon matPrefix> title </mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.title.invalid">
          {{ getErrorMessage(jobForm, "title") }}
        </mat-error>
      </mat-form-field>
      <!-- JOB TITLE -->

      <!-- IMAGE URL -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Image Url</mat-label>
        <input
          matInput
          placeholder="Enter image url"
          formControlName="image"
          required
          type="text"
          id="image"
        />
        <mat-icon matPrefix>insert_photo</mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.image.invalid">
          {{ getErrorMessage(jobForm, "image") }}
        </mat-error>
      </mat-form-field>
      <!-- IMG URL -->

      <!-- PROFESSION AND Descriptor -->
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-sm-6">
            <mat-form-field appearance="outline" class="d-block py-1">
              <mat-label>Projession</mat-label>
              <input
                matInput
                placeholder="Enter profession"
                formControlName="type"
                required
                type="text"
                id="type"
              />
              <mat-icon matPrefix>school</mat-icon>
              <mat-error class="" *ngIf="jobForm.controls.type.invalid">
                {{ getErrorMessage(jobForm, "type") }}
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-sm-6">
            <mat-form-field appearance="outline" class="d-block py-1">
              <mat-label>Descriptor</mat-label>
              <input
                matInput
                placeholder="Enter descriptor"
                formControlName="descriptor"
                required
                type="text"
                id="descriptor"
              />
              <mat-icon matPrefix>gesture</mat-icon>
              <mat-error class="" *ngIf="jobForm.controls.descriptor.invalid">
                {{ getErrorMessage(jobForm, "descriptor") }}
              </mat-error>
            </mat-form-field>
          </div>
        </div>
      </div>
      <!-- PROFESSION AND Descriptor -->

      <!-- COMPANY NAME -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Company</mat-label>
        <input
          matInput
          placeholder="Enter company name"
          formControlName="company"
          required
          type="text"
          id="company"
        />
        <mat-icon matPrefix>business</mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.company.invalid">
          {{ getErrorMessage(jobForm, "company") }}
        </mat-error>
      </mat-form-field>
      <!-- COMPANY NAME -->
      <!-- CITY -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>City</mat-label>
        <input
          matInput
          placeholder="Enter city"
          formControlName="city"
          required
          type="text"
          id="city"
        />
        <mat-icon matPrefix>location_on</mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.city.invalid">
          {{ getErrorMessage(jobForm, "city") }}
        </mat-error>
      </mat-form-field>
      <!-- CITY  -->
      <!-- ADDRESS -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Address</mat-label>
        <textarea
          matInput
          placeholder="Enter address"
          formControlName="address"
          required
          id="address"
        ></textarea>

        <mat-error class="" *ngIf="jobForm.controls.address.invalid">
          {{ getErrorMessage(jobForm, "address") }}
        </mat-error>
      </mat-form-field>
      <!-- ADDRESS  -->
      <!-- WEB -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Web</mat-label>
        <input
          matInput
          placeholder="Enter web address"
          formControlName="web"
          required
          type="text"
          id="web"
        />
        <mat-icon matPrefix>link</mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.web.invalid">
          {{ getErrorMessage(jobForm, "web") }}
        </mat-error>
      </mat-form-field>
      <!-- WEB  -->
      <!-- AREA -->
      <mat-form-field appearance="outline" class="d-block pb-2">
        <mat-label>Areas</mat-label>
        <textarea
          matInput
          placeholder="Enter area with ';'(exp Program; Mobile;) "
          formControlName="area"
          required
          id="area"
        ></textarea>
        <mat-hint align="start"
          >Don't forget to split areas by using <strong>;</strong></mat-hint
        >
        <mat-error class="" *ngIf="jobForm.controls.area.invalid">
          {{ getErrorMessage(jobForm, "area") }}
        </mat-error>
      </mat-form-field>
      <!-- AREA  -->
      <!-- SALARY -->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Salary</mat-label>
        <mat-icon matPrefix>money</mat-icon>
        <input
          matInput
          placeholder="Enter web salary"
          formControlName="salary"
          required
          type="text"
          id="salary"
        />

        <mat-icon matSuffix>attach_money</mat-icon>
        <mat-error class="" *ngIf="jobForm.controls.salary.invalid">
          {{ getErrorMessage(jobForm, "salary") }}
        </mat-error>
      </mat-form-field>
      <!-- WEB  -->
      <!-- JOB DESCTIPTION TO DO CAN BE REPLACE WITH RICH TEXT EDITOR-->
      <mat-form-field appearance="outline" class="d-block py-1">
        <mat-label>Description</mat-label>
        <textarea
          matInput
          placeholder="Enter job description"
          formControlName="jobDescription"
          required
          id="jobDescription"
        ></textarea>

        <mat-error class="" *ngIf="jobForm.controls.jobDescription.invalid">
          {{ getErrorMessage(jobForm, "jobDescription") }}
        </mat-error>
      </mat-form-field>
      <!-- JOB DESCTIPTION  -->
    </fieldset>
  </form>
</div>
<div mat-dialog-actions class="a-buttons">
  <button
    mat-flat-button
    type="button"
    color="warn"
    class="mr-2"
    (click)="close()"
  >
    Cancel
  </button>
  <button
    mat-flat-button
    type="submit"
    color="primary"
    (click)="saveJob()"
    [disabled]="jobForm.invalid || !jobForm.dirty"
  >
    Save
  </button>
</div>
